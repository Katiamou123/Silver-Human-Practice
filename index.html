<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chitinator et al</title>
  <style>
    /* All your CSS from index.html reused here, shortened for brevity */
:root {
  --green-50: #f0fdf4;
  --green-600: #16a34a;
  --gray-0: #ffffff;
  --gray-50: #f9fafb;
  --gray-200: #e5e7eb;
  --gray-900: #111827;

  --bg: var(--gray-0);
  --fg: var(--gray-900);
  --muted: #6b7280;
  --card-bg: var(--gray-50);
  --border: var(--gray-200);
  --accent: var(--green-600);
  --accent-contrast: #fff;
  --soft-accent: var(--green-50);
  --shadow: 0 8px 24px rgba(0,0,0,0.08);

  --radius: 16px;
  --transition: 220ms cubic-bezier(.215, .61, .355, 1);
  --maxw: 1180px;
}

[data-theme="dark"] {
  --bg: var(--gray-900);
  --fg: var(--gray-50);
  --muted: #9ca3af;
  --card-bg: #111b14;
  --border: #1f2b22;
  --accent: #4ade80;
  --accent-contrast: #0f172a;
  --soft-accent: rgba(22, 163, 74, 0.2);
  --shadow: 0 8px 24px rgba(0,0,0,0.3);
}

body {
  overflow-x: hidden; /* prevents horizontal scroll */
  overflow-y: auto;   /* keep vertical scrolling normal */
}


    html, body {
      margin: 0;
      padding: 0;
      font-family: system-ui, sans-serif;
      background: var(--bg);
      color: var(--fg);
      scroll-behavior: smooth;
        background-color: #78e7a1;
          box-sizing: border-box;
       
    }


    [data-theme="dark"] body {
  background-color: #478b60; /* dark mode green */
}


header.site-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: rgba(255,255,255,0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  transition: background var(--transition);
}
[data-theme="dark"] header.site-header {
  background: rgba(17,24,39,0.6);
}

    .inner {
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 0.75rem 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

 .brand {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  font-weight: 700;
  color: var(--accent);
}

  .brand svg {
  height: 28px;
  width: 28px;
}

.theme-toggle {
  border: 1px solid var(--border);
  background: var(--card-bg);
  color: var(--fg);
  padding: 0.35rem 0.6rem;
  border-radius: 999px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  font-size: 0.9rem;
}

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

/* --- Navigation --- */
nav {
  position: sticky;
  top: 0;
  color: rgb(0, 0, 0);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 1rem;
  z-index: 1000;
}

nav a {
  color: var(--fg);
  text-decoration: none;
  font-weight: 500;
  opacity: 0.8;
  transition: opacity var(--transition), color var(--transition);
}
nav a:hover,
nav a.active {
  color: var(--accent);
  opacity: 1;
}

nav ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 1rem;
}
nav ul li {
  position: relative;
}


.hero {
  text-align: center;
  padding: 6rem 1rem 3rem;
  background: linear-gradient(135deg, var(--soft-accent), transparent);
}

[data-theme="dark"] .hero {
   background: linear-gradient(135deg, rgba(11, 58, 29, 0.68), transparent);
      padding: 6rem 1rem 3rem;

}

.hero h1 {
  font-size: clamp(2.5rem, 6vw, 4rem);
  margin-bottom: 1rem;
}

.hero p {
  font-size: 1.2rem;
  color: var(--fg);
  max-width: 760px;
  margin: 0 auto;
}




    /* --- Responsive --- */
    @media (max-width: 980px) {
      .layout {
        grid-template-columns: 1fr;
      }
      aside.toc {
        position: static;
        top: auto;
        order: -1;
        margin-bottom: 1rem;
      }
    }




   main p {
  text-align: justify;
}

 .layout {
  display: grid;
  grid-template-columns: 260px 1fr;
  gap: 2rem;
  max-width: var(--maxw);
  margin-left: 1rem;
  margin-right: auto;
  padding: 2rem 1rem 4rem;
}





 

 /* --- Dropdown --- */
.dropdown {
  position: absolute;
  background-color: var(--card-bg);
  display: none;
  flex-direction: column;
  top: 100%;
  left: 0;
  min-width: 100%;
  border-radius: 0 0 5px 5px;
  box-shadow: var(--shadow);
  z-index: 2000;
}
.dropdown a {
  font-weight: 500;
  padding: 0.5rem 1rem;
  white-space: nowrap;
  color: var(--fg);
  background-color: transparent;
}
nav ul li:hover > .dropdown {
  display: flex;
}

.chitin-gif-wrapper {
  display: flex;
  justify-content: center; /* centers horizontally */
 
}

.chitin-gif {
  max-width: 360px;       /* controls size */
  width: 70%;             /* responsive */
  height: auto;
}





    /* Hamburger button */
    #hamburger {
      display: none;
      font-size: 1.8rem;
      cursor: pointer;
      user-select: none;
   color: var(--fg); /* responds to theme */}

 /* Responsive */
    @media (max-width: 768px) {
      nav {
        flex-wrap: wrap;
      }

      #hamburger {
        display: block;
      }

      nav ul {
        flex-direction: column;
        width: 100%;
        display: none; /* Î±ÏÏ‡Î¹ÎºÎ¬ ÎºÏÏ…Ï†ÏŒ */
        
        backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
        margin-top: 0.5rem;
      }

      
  [data-theme="dark"] nav ul {
    background: rgba(17, 24, 39, 0.6);
  }

      nav ul.show {
        display: flex;
      }

      nav ul li {
        width: 100%;
      }

    nav ul li.open > .dropdown {
  display: flex;
  flex-direction: column;
}


      /* Dropdown Ï‰Ï‚ collapsible ÏƒÎµ ÎºÎ¹Î½Î·Ï„Î¬ */
      .dropdown {
        position: static;
        box-shadow: none;
        border-radius: 0;
        display: none;
        padding-left: 1rem;
        background-color: var(--card-bg); /* âœ… dynamic per theme */
      }

      nav ul li.open > .dropdown {
        display: flex;
        flex-direction: column;
      }

      nav a {
        padding: 0.7rem 1rem;
      }
    }








    

     .stats-board {
  margin: 2rem auto 0;
  background-color: var(--card-bg); /* adapts to theme */
  border-radius: 12px;
  padding: 1.5rem 2rem;
  max-width: 450px;
  text-align: center;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
}

.stats-title {
  font-size: 1.8rem;
  color: var(--accent); /* adapts */
  font-weight: 700;
  margin-bottom: 2rem;
}

.stat {
  margin: 1.5rem 0;
}

.stat-number {
  font-size: 3rem;
  font-weight: 900;
  color: var(--accent); /* adapts */
  line-height: 1;
}

.stat-label {
  font-size: 1.1rem;
  color: var(--muted); /* adapts */
  margin-top: 0.25rem;
}


    
    /* --- TOC (sticky side) --- */

    aside.toc {
      position: sticky;
      top: 96px;
      height: max-content;
      border: 1px solid var(--border);
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1rem;
    }
    aside.toc h4 {
      margin-top: 0;
      margin-bottom: .5rem;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: .4rem;
      font-size: 1rem;
    }
    aside.toc ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: .4rem;
    }
    aside.toc a {
      text-decoration: none;
      color: var(--fg);
      opacity: .75;
      transition: opacity var(--transition), color var(--transition);
      border-left: 2px solid transparent;
      padding-left: .5rem;
    }
    aside.toc a:hover { opacity: 1; color: var(--accent); }
    aside.toc a.active {
      opacity: 1;
      color: var(--accent);
      border-left-color: var(--accent);
    }




section.section {
  width: 100vw;
  padding: 2rem;
  margin: 0;
  box-sizing: border-box;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

section.section.in-view {
  opacity: 1;
  transform: none;
}

section h2 {
  font-size: 1.8rem;
  margin-bottom: 1rem;
}

section p {
  font-size: 1rem;
  line-height: 1.6;
}

.section-content {
  display: flex;
  align-items: center;     /* vertical center */
  gap: 2rem;
  width: 100%;
  box-sizing: border-box;
}

.section-content .text {
  flex: 1 1 55%;           /* slightly wider text */
  max-width: 55%;
}

.section-content .image {
  flex: 0 0 200px;         /* smaller fixed width */
  display: flex;
  justify-content: flex-start;
  margin-left: 1.5rem;     /* space between text and image */
}

.section-content .image img {
  width: 100%;
  max-width: 200px;
  height: auto;
  display: block;
}



@media (max-width: 768px) {
  .section-content {
    flex-direction: column;
    align-items: flex-start;
  }

  .section-content .text {
    max-width: 100%;
  }

  .section-content .image {
    width: 90%;
    justify-content: flex-start;
    margin-top: 1rem;
  }
}






  </style>
</head>
<body>
 <header class="site-header" id="top">
    <div class="inner">
      <div class="brand" aria-label="Silver Human Practices">
        <!-- Simple Leaf Icon -->
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 22s8-4 8-10V2S12 2 6 8c0 6 6 14 6 14z"/><path d="M12 22s-6-8-6-14"/></svg>
        <span>CHITINATOR et al.</span>
      </div>
       <nav>
   
    <div id="hamburger">&#9776;</div>
    <ul>
      <li><a>Home</a></li>
      <li>
        <a>Team</a>
        <div class="dropdown">
          <a href="under-construction.html">People</a>
          <a href="under-construction.html">Attribution</a>
        </div>
      </li>
      <li>
        <a>Project</a>
        <div class="dropdown">
          <a href="under-construction.html">Description</a>
          <a href="under-construction.html">Engineering</a>
          <a href="under-construction.html">Implementation</a>
          <a href="under-construction.html">Contribution</a>
          <a href="under-construction.html">Safety</a>
        </div>
      </li>
      <li>
        <a>Wet Lab</a>
        <div class="dropdown">
          <a href="under-construction.html">Design</a>
          <a href="under-construction.html">Experiment</a>
          <a href="under-construction.html">Results</a>
          <a href="under-construction.html">Lab Book</a>
          <a href="under-construction.html">New Composite Part</a>
        </div>
      </li>
      <li>
        <a >Dry Lab</a>
        <div class="dropdown">
          <a href="under-construction.html">Model</a>
        </div>
      </li>
      <li>
        <a>Human</a>
        <div class="dropdown">
          <a href="under-construction.html">Overview</a>
          <a href="index.html">Silver Human Practices</a>
          <a href="under-construction.html">Integrated Human Practices</a>
        </div>
      </li>
    </ul>
  </nav>
      <button id="themeToggle" class="theme-toggle" aria-label="theme change">
        <span class="icon">ðŸŒž</span> <span class="label">Light</span>
      </button>
    </div>
  </header>


  <section class="hero">
    <div class="inner">
      <h1>Biology Meets Sustainability</h1>
      <p>Transforming waste into value through synthetic biology. Welcome to Chitinator et al.</p>
    </div>
  </section>

  <div class="layout">
   <!-- Sticky in-page TOC -->
<aside class="toc" aria-label="Î Î¯Î½Î±ÎºÎ±Ï‚ Î ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Ï‰Î½">
  <h4>â˜° Table Of Contents</h4>
  <ul id="tocList">
    <li><a href="#relevant" class="active">Why is it relevant today?</a>
  
    </li>

    <li><a href="#problem">The Problem</a>
 
    </li>

    <li><a href="#solution">Our Solution</a>

    </li>

    <li><a href="#chitin">What is Chitin?</a>

    </li>

    <li><a href="#mission">Our Mission</a>

    </li>

    <li><a href="#methodology">The Methodology</a>

</aside>


  <main>
    <section id="relevant" class="section">
  <div class="section-content">
    <div class="text">
     <h2>Why is it relevant today?</h2><p>Chitinator et al. is a project focused on the biodegradation of chitin, aiming to convert it
into valuable products like biofertilizer using tools from synthetic biology.</p>
<p>Chitinator et al. reflects a growing global interest in sustainable innovation, circular thinking,
and environmentally conscious science. It belongs to a new generation of projects that move
beyond theory, seeking to bring synthetic biology into real-world applications.</p>
<p>As the world faces challenges like waste accumulation, climate impact, and the need for
greener agricultural practices, this project resonates with current scientific and societal
priorities. It shows how biology can be used not only to understand the world, but to help
improve it â€” by turning waste into value, and problems into solutions.</p>
    </div>
    <div class="image">
      <img src="images/why_is_it_relevant.png" alt="Description">
    </div>
  </div>
</section>



    <section id="problem" class="section">
  <div class="section-content">
    <div class="text">
 <h2>The Problem</h2><p>Our project, Chitinator et al., addresses two interlinked problems â€” one agricultural and one
environmental â€” both of which are highly relevant today.</p>
<p><strong>1. The agricultural problem:</strong></p>
<p>Modern agriculture relies heavily on chemical fertilizers to sustain high crop yields.
However, the overuse of these inputs often comes at a cost. Synthetic fertilizers can degrade
soil quality, disrupt local ecosystems, and contaminate water sources. In the long term, they
may even weaken plant health, making crops more vulnerable to pests and disease. There is
an urgent need for sustainable alternatives that can nourish the soil without harming the
environment.</p>
<p><strong>
2. The environmental waste problem:</strong></p>
<p>Greece hosts a significant seafood processing industry, especially in shrimp packaging and
cleaning facilities. While the country does not engage in large-scale shrimp farming, it
imports and processes large volumes of crustaceans. This generates a considerable amount of
chitin-rich waste, which often ends up in landfills or, worse, in marine ecosystems. These
waste streams are rarely reused, despite being biologically valuable. The improper disposal of
such biomass contributes to environmental pollution and represents a missed opportunity for
resource recovery.</p>
<p>By addressing both the overreliance on harmful agricultural practices and the
underutilization of chitinous seafood waste, our project aims to introduce a sustainable,
bio-based solution that connects environmental responsibility with agricultural innovation.</p>

    </div>

    <div class="image">
      <img src="images/2_problems.png" alt="Description">
    </div>
  </div>
</section>
   










<section id="solution" class="section">
  <div class="section-content">
    <div class="text">
     <h2>Our Solution</h2><p>To address the dual challenge of agricultural overreliance on chemical fertilizers and the underutilization of chitin-rich seafood waste, our project proposes a <strong>synthetic biology-based biodegradation system</strong>.</p> <p>We genetically modify Bacillus subtilis and Escherichia coli to express a <strong>dual-function fusion enzyme</strong> composed of an <strong>endochitinase</strong> and an <strong>exochitinase</strong> domain. These two enzymes work synergistically to break down chitin into its monomeric units, primarily Nacetylglucosamine (GlcNAc).</p> <p>This enzymatic activity is designed to occur <strong>directly in the substrate</strong>â€”in chitin-containing biomass such as shrimp shellsâ€”where the engineered bacteria serve as biological tools for depolymerization.</p> <p>The result of this process is a <strong>nutrient-rich product</strong> derived from chitin degradation. This product can be:</p> <ul> <li>Integrated into compost mixtures, enhancing their nitrogen and carbon content</li> <li>Added to existing organic fertilizers, improving their bioavailability</li> <li>Explored as a potential standalone biofertilizer, due to its beneficial chemical profile</li> </ul> <p>In essence, we convert an otherwise inert and difficult-to-degrade waste material into a valuable agricultural input, using engineered microbes as active agents of transformation.</p> <p>Our approach is scalable, modular, and aligned with principles of circular bioeconomy and environmental responsibility.</p>
    </div>
    <div class="image">
      <img src="images/our_solution_1.png" alt="Description">
    </div>
  </div>
</section>


<section id="chitin" class="section">
  <div class="section-content">
    <div class="text">
     <h2>What is Chitin?</h2><p>Chitin is a natural biopolymer, structurally similar to cellulose, and is considered the
<strong>second most abundant polysaccharide</strong> on Earth. It is composed of repeating units of Nacetyl-
D-glucosamine (GlcNAc) linked by Î²-(1â†’4) glycosidic bonds.</p>
<p>Chitin serves as a key structural component in several biological materials, including:
<ul><li>The <strong>exoskeletons of arthropods</strong>, such as shrimp, crabs, and insects</li>
<li>The <strong>cell walls of fungi</strong></li>
<li>The <strong>radula of mollusks</strong> and the <strong>beaks of cephalopods</strong></li></ul></p>
<p>Despite its abundance, chitin is <strong>not easily degradable</strong> in natural environments.</p>
<p>Certain microorganisms, such as chitinolytic bacteria and fungi, are capable of breaking it
down. However, this process tends to be slow and inefficient, primarily due to the chemical
and physical properties of chitin:
<ol><li><strong>High crystallinity</strong> â€“ Chitin molecules are tightly packed in crystalline microfibrils,
making them resistant to enzymatic access.</li>
<li><strong>Insolubility in water and most solvents</strong> â€“ Chitinâ€™s insolubility reduces its
bioavailability.</li>
<li><strong>Strong hydrogen bonding</strong> â€“ The polymer chains form extensive hydrogen bonds,
increasing structural rigidity.</li>
<li><strong>Association with other biomolecules</strong> â€“ In natural materials, chitin is often embedded
in protein or mineral matrices (e.g., in shells), which further complicates its
degradation.</li></ol></p>
<p>Because of these characteristics, <strong>efficient biodegradation of chitin requires specialized
enzymatic systems</strong>, often working in synergy â€” including endochitinases, exochitinases,
and Î²-N-acetylglucosaminidases.</p>
<p>Our project aims to harness these enzymatic tools through synthetic biology, to turn this
recalcitrant biomass into a useful agricultural input.</p>
    </div>
    <div class="image">
      <img src="images/what_is_chitin.png" alt="Description">
    </div>
  </div>
</section>


<section id="mission" class="section">
  <div class="section-content">
    <div class="text">
    <h2>Our Mission</h2><p>With Chitinator et al., our mission goes beyond solving a single problem â€” we aim to
redefine how we view waste, sustainability, and the role of biology in the modern world.</p>
<p>We envision a future where <strong>biological tools are used to unlock the hidden value of natural
materials</strong>, turning underutilized resources like chitin into solutions for global challenges such
as soil degradation and environmental pollution.</p>
<p>Through this project, we want to demonstrate that <strong>synthetic biology can be accessible,
scalable, and environmentally responsible</strong>. We believe that microbial engineering can pave
the way for a circular and regenerative model of agriculture, where what was once
discarded becomes essential.</p>
<p>Ultimately, our goal is to <strong>bridge the gap between innovation and impact</strong>â€”to create
biological systems that not only work in the lab, but also serve communities, ecosystems, and
the planet at large.</p>
    </div>
    <div class="image">
      <img src="images/methodology_2.png" alt="Description">
    </div>
  </div>
</section>



<section id="methodology" class="section">
  <div class="section-content">
    <div class="text">
     <h2>The Methodology</h2><p>At the core of our approach lies the design of a synthetic fusion enzyme capable of
efficiently breaking down chitin. This fusion protein combines two distinct enzymatic
domains: an <strong>endochitinase</strong>, which cleaves internal bonds within the chitin polymer, and an
<strong>exochitinase</strong>, which further digests the resulting fragments from the ends into monomeric
units like N-acetylglucosamine (GlcNAc).</p>
<p>To express this dual-function enzyme, we genetically engineer two bacterial chassis:</p>
<ol><li><strong>Bacillus subtilis</strong>, a Gram-positive bacterium widely known for its natural ability to
secrete proteins extracellularly.</li>
<li><strong>Escherichia coli</strong>, a well-characterized model organism with robust genetic tools for
testing expression and function.</li></ol>

<p>The coding sequence of the fusion enzyme is inserted into plasmids compatible with each
host, and optimized for high-level expression. A <strong>flexible peptide linker</strong> is included between
the enzymatic domains to preserve proper folding and catalytic activity.</p>
<p>The engineered bacteria are then exposed to <strong>chitin-rich substrates</strong>, such as powdered shrimp
shell waste. The fusion enzyme is secreted or released in situ, where it catalyzes the
depolymerization of chitin into bioavailable monomers.
We monitor and evaluate the process using:</p>
<ul><li>
<strong>In silico modeling and structural validation</strong> of the fusion enzyme prior to synthesis</li>
<li><strong>Cloning and transformation workflows</strong> using standard molecular biology
techniques</li>
<li><strong>Qualitative and quantitative assays</strong> to assess enzymatic activity and degradation
efficiency</li></ul>
<p>Finally, the chitin degradation products are collected and tested for their nutritional value
and potential use as biofertilizers, either directly or as additives in compost formulations.
This modular and iterative methodology allows us to <strong>build, test, and optimize</strong> a living
system capable of turning chitin waste into a valuable agricultural input.</p>
    </div>
    <div class="image">
      <img src="images/our_mission.png" alt="Description">
    </div>
  </div>
</section>





       
    </main>
  </div>



  <script>
    // Theme Toggle
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = themeToggle.querySelector('.icon');
    const themeLabel = themeToggle.querySelector('.label');
    const root = document.documentElement;

    function setTheme(theme) {
      root.setAttribute('data-theme', theme);
      themeIcon.textContent = theme === 'dark' ? 'ðŸŒ™' : 'ðŸŒž';
      themeLabel.textContent = theme === 'dark' ? 'Dark' : 'Light';
      localStorage.setItem('theme', theme);
    }

    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) setTheme(savedTheme);

    themeToggle.addEventListener('click', () => {
      const current = root.getAttribute('data-theme');
      setTheme(current === 'light' ? 'dark' : 'light');
    });

    // Reveal on Scroll
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.section').forEach(section => observer.observe(section));
  // Hamburger & mobile dropdown toggle
const hamburger = document.getElementById('hamburger');
const navMenu = document.querySelector('nav ul');
const navItems = document.querySelectorAll('nav > ul > li');

hamburger.addEventListener('click', () => {
  navMenu.classList.toggle('show');
});

navItems.forEach(item => {
  const link = item.querySelector('a');
  const dropdown = item.querySelector('.dropdown');

  link.addEventListener('click', (e) => {
    if (dropdown && window.innerWidth <= 768) {
      e.preventDefault();
      const isOpen = item.classList.contains('open');
      navItems.forEach(i => i.classList.remove('open'));
      if (!isOpen) item.classList.add('open');
    }
  });
});

document.addEventListener('click', (e) => {
  if (window.innerWidth <= 768) {
    const insideNav = e.target.closest('nav');
    if (!insideNav) {
      navItems.forEach(item => item.classList.remove('open'));
      navMenu.classList.remove('show');
    }
  }
});


// --- Scrollspy for top nav & side TOC
    const sections = document.querySelectorAll('main section.section');
    const topNavLinks = document.querySelectorAll('.top-nav a');
    const tocLinks = document.querySelectorAll('aside.toc a');
    const heroNavLink = document.querySelector('.top-nav a[href="#overview"]');

    function activateLink(id) {
      topNavLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${id}`));
      tocLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${id}`));
      if (!id && heroNavLink) {
        topNavLinks.forEach(a => a.classList.remove('active'));
        heroNavLink.classList.add('active');
      }
    }

    const obs = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const id = entry.target.getAttribute('id');
        if (entry.isIntersecting) activateLink(id);
      });
    }, { rootMargin: '-50% 0px -50% 0px', threshold: 0 });

    sections.forEach(section => obs.observe(section));

    // --- Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(link => {
      link.addEventListener('click', (e) => {
        const targetId = link.getAttribute('href').substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          e.preventDefault();
          target.scrollIntoView({ behavior: 'smooth' });
          history.pushState(null, '', `#${targetId}`);
        }
      });
    });








  const counters = document.querySelectorAll('.stat-number');
    const animationDuration = 2000; // total animation time in ms

    function animateCount(el, target) {
      let startTimestamp = null;
      const start = 0;
      const step = (timestamp) => {
        if (!startTimestamp) startTimestamp = timestamp;
        const progress = timestamp - startTimestamp;
        const progressRatio = Math.min(progress / animationDuration, 1);
        const currentCount = Math.floor(progressRatio * target);

        el.innerText = currentCount.toLocaleString();

        if (progress < animationDuration) {
          window.requestAnimationFrame(step);
        } else {
          el.innerText = target.toLocaleString(); // ensure final value
        }
      };
      window.requestAnimationFrame(step);
    }

    function isInViewport(el) {
      const rect = el.getBoundingClientRect();
      return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
      );
    }

    let animated = new Set();

    function checkCounters() {
      counters.forEach((counter) => {
        if (!animated.has(counter) && isInViewport(counter)) {
          const target = +counter.getAttribute('data-target');
          animateCount(counter, target);
          animated.add(counter);
        }
      });
    }

    window.addEventListener('scroll', checkCounters);
    window.addEventListener('resize', checkCounters);

    // Also check on load in case already visible
    window.addEventListener('load', checkCounters);

  </script>
</body>
</html>
